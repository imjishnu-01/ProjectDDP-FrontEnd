import{S as le,i as te,s as se,k,q as R,a as V,e as L,l as b,m as E,r as j,h as n,c as D,n as I,b as U,G as o,aa as W,M as $,H as J,ab as ee,V as ae,o as ie,u as O}from"../chunks/index.cdd841bc.js";import{g as re}from"../chunks/navigation.d517bab9.js";import{b as oe}from"../chunks/publicVar.7d3cef13.js";import{g as ne}from"../chunks/cookies.28f49f6b.js";function K(h,l,s){const a=h.slice();return a[6]=l[s],a}function Q(h,l,s){const a=h.slice();return a[9]=l[s],a}function X(h){let l,s=h[9]+"",a;return{c(){l=k("span"),a=R(s),this.h()},l(i){l=b(i,"SPAN",{class:!0});var p=E(l);a=j(p,s),p.forEach(n),this.h()},h(){I(l,"class","chip variant-filled")},m(i,p){U(i,l,p),o(l,a)},p(i,p){p&4&&s!==(s=i[9]+"")&&O(a,s)},d(i){i&&n(l)}}}function Y(h){let l,s,a=h[6].firstName+"",i,p,d=h[6].lastName+"",P,C,v,T,S=(h[6].total_years_of_experience||0)+"",y,w,g,A,x,q,H,N,u,m,e,_=h[6].user_skills.split(","),t=[];for(let r=0;r<_.length;r+=1)t[r]=X(Q(h,_,r));return{c(){l=k("div"),s=k("div"),i=R(a),p=V(),P=R(d),C=V(),v=k("div"),T=R("Experience: "),y=R(S),w=V(),g=k("div"),A=k("span"),x=R("Skills:"),q=V();for(let r=0;r<t.length;r+=1)t[r].c();H=V(),N=k("a"),u=k("i"),e=V(),this.h()},l(r){l=b(r,"DIV",{class:!0});var c=E(l);s=b(c,"DIV",{});var f=E(s);i=j(f,a),p=D(f),P=j(f,d),f.forEach(n),C=D(c),v=b(c,"DIV",{});var B=E(v);T=j(B,"Experience: "),y=j(B,S),B.forEach(n),w=D(c),g=b(c,"DIV",{class:!0});var M=E(g);A=b(M,"SPAN",{});var F=E(A);x=j(F,"Skills:"),F.forEach(n),q=D(M);for(let z=0;z<t.length;z+=1)t[z].l(M);M.forEach(n),H=D(c),N=b(c,"A",{href:!0,class:!0});var G=E(N);u=b(G,"I",{class:!0}),E(u).forEach(n),G.forEach(n),e=D(c),c.forEach(n),this.h()},h(){I(g,"class","flex gap-2 flex-wrap"),I(u,"class","fas fa-chevron-right text-white"),I(N,"href",m="/application/userProfile/"+h[6].id),I(N,"class","btn-icon btn-icon-bg bg-secondary-500 m-4 absolute bottom-0 right-0 -mb-2 -mr-2"),I(l,"class","card p-4 bg-primary-warning flex flex-col gap-10 relative flex-shrink-0 flex-grow-0")},m(r,c){U(r,l,c),o(l,s),o(s,i),o(s,p),o(s,P),o(l,C),o(l,v),o(v,T),o(v,y),o(l,w),o(l,g),o(g,A),o(A,x),o(g,q);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(g,null);o(l,H),o(l,N),o(N,u),o(l,e)},p(r,c){if(c&4&&a!==(a=r[6].firstName+"")&&O(i,a),c&4&&d!==(d=r[6].lastName+"")&&O(P,d),c&4&&S!==(S=(r[6].total_years_of_experience||0)+"")&&O(y,S),c&4){_=r[6].user_skills.split(",");let f;for(f=0;f<_.length;f+=1){const B=Q(r,_,f);t[f]?t[f].p(B,c):(t[f]=X(B),t[f].c(),t[f].m(g,null))}for(;f<t.length;f+=1)t[f].d(1);t.length=_.length}c&4&&m!==(m="/application/userProfile/"+r[6].id)&&I(N,"href",m)},d(r){r&&n(l),ee(t,r)}}}function Z(h){let l,s;return{c(){l=k("p"),s=R("No mataches found")},l(a){l=b(a,"P",{});var i=E(l);s=j(i,"No mataches found"),i.forEach(n)},m(a,i){U(a,l,i),o(l,s)},d(a){a&&n(l)}}}function ce(h){let l,s,a,i,p,d,P,C,v,T,S,y,w,g,A,x,q,H,N=h[2],u=[];for(let e=0;e<N.length;e+=1)u[e]=Y(K(h,N,e));let m=h[0]&&Z();return{c(){l=k("h1"),s=R("Search candidates"),a=V(),i=k("div"),p=k("form"),d=k("div"),P=k("div"),C=V(),v=k("input"),T=V(),S=k("button"),y=k("i"),w=V(),g=k("div");for(let e=0;e<u.length;e+=1)u[e].c();A=V(),m&&m.c(),x=L(),this.h()},l(e){l=b(e,"H1",{});var _=E(l);s=j(_,"Search candidates"),_.forEach(n),a=D(e),i=b(e,"DIV",{class:!0});var t=E(i);p=b(t,"FORM",{class:!0});var r=E(p);d=b(r,"DIV",{class:!0});var c=E(d);P=b(c,"DIV",{class:!0}),E(P).forEach(n),C=D(c),v=b(c,"INPUT",{type:!0,placeholder:!0}),T=D(c),S=b(c,"BUTTON",{class:!0});var f=E(S);y=b(f,"I",{class:!0}),E(y).forEach(n),f.forEach(n),c.forEach(n),r.forEach(n),t.forEach(n),w=D(e),g=b(e,"DIV",{class:!0});var B=E(g);for(let M=0;M<u.length;M+=1)u[M].l(B);B.forEach(n),A=D(e),m&&m.l(e),x=L(),this.h()},h(){I(P,"class","input-group-shim"),I(v,"type","search"),I(v,"placeholder","Skills or Postions "),I(y,"class","fa-solid fa-magnifying-glass"),I(S,"class","bg-surface-500"),I(d,"class","input-group input-group-divider grid-cols-[auto_1fr_auto]"),I(p,"class","card m-5 p-4 flex flex-col gap-3"),I(i,"class","container"),I(g,"class","grid grid-cols-1 grid-cols-1 md:grid-cols-2 gap-4")},m(e,_){U(e,l,_),o(l,s),U(e,a,_),U(e,i,_),o(i,p),o(p,d),o(d,P),o(d,C),o(d,v),W(v,h[1]),o(d,T),o(d,S),o(S,y),U(e,w,_),U(e,g,_);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(g,null);U(e,A,_),m&&m.m(e,_),U(e,x,_),q||(H=[$(v,"input",h[4]),$(S,"click",h[3])],q=!0)},p(e,[_]){if(_&2&&v.value!==e[1]&&W(v,e[1]),_&4){N=e[2];let t;for(t=0;t<N.length;t+=1){const r=K(e,N,t);u[t]?u[t].p(r,_):(u[t]=Y(r),u[t].c(),u[t].m(g,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=N.length}e[0]?m||(m=Z(),m.c(),m.m(x.parentNode,x)):m&&(m.d(1),m=null)},i:J,o:J,d(e){e&&n(l),e&&n(a),e&&n(i),e&&n(w),e&&n(g),ee(u,e),e&&n(A),m&&m.d(e),e&&n(x),q=!1,ae(H)}}}function fe(h,l,s){const a=ne("token");let i=!1;ie(()=>{a||re("/login")});let p="",d=[];const P=async()=>{try{const T=p.split(",").map(w=>w.trim()).join(","),S=encodeURIComponent(T),y=await fetch(`${oe}/api/user/search?skills=${S}`,{headers:{Authorization:`Bearer ${a}`}});y.ok?(s(2,d=await y.json()),d.length<1?s(0,i=!0):s(0,i=!1)):console.error("Error fetching users:",y.statusText)}catch(v){console.error("Error fetching users:",v)}};function C(){p=this.value,s(1,p)}return[i,p,d,P,C]}class de extends le{constructor(l){super(),te(this,l,fe,ce,se,{})}}export{de as component};
